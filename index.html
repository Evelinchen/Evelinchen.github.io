<!DOCTYPE html>
<html>
<head>
	<title>å¥³ç¥èŠ‚å¿«ä¹</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="keywords" content="èŠ‚æ—¥ç¤¼ç‰©ï¼ŒæƒŠå–œ,æœ‰è¶£,æœ€ç¾,å¥³ç¥">
	<meta name="description" content="å¥³ç¥èŠ‚æœ€ç¾çš„å¥³äºº">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link href="css/bootstrap.css" rel="stylesheet" type="text/css">
	<!-- <embed src="music_by_ViVi.mp3" hidden="true" autostart="true" loop="true"> -->
	<embed src="whys.mp3" title="ç¬¬ä¸€é¦–æ­Œ" palette="red|white" width="200" height="90" ></embed>
	<!-- <audio src="music_by_ViVi.mp3" autoplay="autoplay" ></audio> -->
	<style type="text/css">
		.col-xs-4{
			padding-left: 0px;
			padding-right: 0px;
		}

		.col-xs-4 a{
			margin-bottom: 0px;
		}

		.container {
			margin-top: 40px;
		}
		/*<div class="col-xs-4 col-md-4 img-sec">
			<figure class="img-figure is-inverse">
				<a href="#" class="thumbnail">
					<img src="imgs/1.jpg" alt="...">
				</a>
				<figcaption>
					<div class="img-back">
						<p>ç¬¬1å¼ å›¾ç‰‡çš„æè¿°</p>
					</div>
				</figcaption>
			</figure> 
		</div>*/
		.img-sec{
			/*width: 250px;
			height: 180px;position: relative;*/
			overflow: hidden;

			perspective:1800px;
			-webkit-perspective:1800px;
			-o-perspective:1800px;
			-moz-perspective:1800px;
			-ms-perspective:1800px;
		}
		/*3 å›¾ç‰‡åŒºæ ·å¼*/
		.img-figure{
			width: 100%;
			height: 100%;
			box-sizing: border-box;
			position: relative;
		}
		.img-figure figcaption{
			text-align: center;
		}
		.img-figure figcaption .img-back p{

			margin: 20px 0 0 0;
			font-size: 16px;
			color: #a7a0a2;
		}

		.img-figure{

			transform-style: preserve-3d;
			-webkit-transform-style: preserve-3d;
			-o-transform-style: preserve-3d;
			-moz-transform-style: preserve-3d;
			-ms-transform-style: preserve-3d;

			cursor: pointer;

			transform-origin: 0 50% 0;
			-webkit-transform-origin: 0 50% 0;
			-o-transform-origin: 0 50% 0;
			-moz-transform-origin: 0 50% 0;
			-ms-transform-origin: 0 50% 0;

			transition:transform .6s ease-in-out;

			-webkit-transition:-webkit-transform .6s ease-in-out;
			-o-transition:transform .6s ease-in-out;
			-moz-transition:transform .6s ease-in-out;
			-ms-transition:transform .6s ease-in-out;
		}
		.img-figure.is-inverse{
			/*transform: translate(250px) rotateY(180deg);
			-webkit-transform: translate(250px) rotateY(180deg);
			-o-transform: translate(250px) rotateY(180deg);
			-moz-transform: translate(250px) rotateY(180deg);
			-ms-transform: translate(250px) rotateY(180deg);*/
		}
		
		.img-figure figcaption .img-back{
			position: absolute;
			top: 0;
			left: 0;

			width: 100%;
			height: 100%;
			box-sizing: border-box;
			overflow: auto;

			color: #a7a0a2;
            font-size: 22px;
            line-height: 1.25;
            text-align: left;
            background-color: #fff;
            
            transform: rotateY(180deg) translateZ(1px);
            -webkit-transform: rotateY(180deg) translateZ(1px);
			-o-transform: rotateY(180deg) translateZ(1px);
			-moz-transform: rotateY(180deg) translateZ(1px);
			-ms-transform: rotateY(180deg) translateZ(1px);

            backface-visibility: hidden;
            -webkit-backface-visibility:hidden;
            -o-backface-visibility:hidden;
			-moz-backface-visibility:hidden; 
			-ms-backface-visibility:hidden;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-xs-4 col-md-4 img-sec">
				<figure class="img-figure" id='img-figure'>
					<a href="#" class="thumbnail">
						<img src="imgs/1.jpg" alt="...">
					</a>
					<figcaption>
						<div class="img-back">
							<p>ä¸€ä¸ªå°å°çš„é—®å€™~</p>
						</div>
					</figcaption>
				</figure> 
			</div>
			<div class="col-xs-4 col-md-4 img-sec">
				<figure class="img-figure" id='2'>
					<a href="#" class="thumbnail">
						<img src="imgs/2.jpg" alt="...">
					</a>
					<figcaption>
						<div class="img-back">
							<p>å¥³ç¥èŠ‚å¿«ä¹~</p>
						</div>
					</figcaption>
				</figure> 
			</div>
			<div class="col-xs-4 col-md-4 img-sec">
				<figure class="img-figure" id='3'>
					<a href="#" class="thumbnail">
						<img src="imgs/3.jpg" alt="...">
					</a>
					<figcaption>
						<div class="img-back">
							<p>äº¤ä¸ªæœ‹å‹~</p>
						</div>
					</figcaption>
				</figure> 
			</div>
		</div>
		<div class="row">
			<div class="col-xs-4 col-md-4 img-sec">
				<figure class="img-figure" id='4'>
					<a href="#" class="thumbnail">
						<img src="imgs/4.jpg" alt="...">
					</a>
					<figcaption>
						<div class="img-back">
							<p>æˆ‘ä»¬è®¤è¯†ç¬¬äºŒå¤©å•¦</p>
						</div>
					</figcaption>
				</figure> 
			</div>
			<div class="col-xs-4 col-md-4 img-sec">
				<figure class="img-figure" id='5'>
					<a href="#" class="thumbnail">
						<img src="imgs/5.jpg" alt="...">
					</a>
					<figcaption>
						<div class="img-back">
							<p>ğŸ˜„å°±æ˜¯è¿™ä¸ªå°å§å§~</p>
						</div>
					</figcaption>
				</figure> 
			</div>
			<div class="col-xs-4 col-md-4 img-sec">
				<figure class="img-figure" id='6'>
					<a href="#" class="thumbnail">
						<img src="imgs/6.jpg" alt="...">
					</a>
					<figcaption>
						<div class="img-back">
							<p>äº²å’Œ+å–„è‰¯+å‹å¥½ğŸ˜„~</p>
						</div>
					</figcaption>
				</figure> 
			</div>
		</div>
		<div class="row">
			<div class="col-xs-4 col-md-4 img-sec">
				<figure class="img-figure" id='7'>
					<a href="#" class="thumbnail">
						<img src="imgs/7.jpg" alt="...">
					</a>
					<figcaption>
						<div class="img-back">
							<p>è¯æ˜¯å°‘ç‚¹ï¼Œæ˜¯å› ä¸ºåœ¨æ€è€ƒå˜›~</p>
						</div>
					</figcaption>
				</figure> 
			</div>
			<div class="col-xs-4 col-md-4 img-sec">
				<figure class="img-figure" id='8'>
					<a href="#" class="thumbnail">
						<img src="imgs/8.jpg" alt="...">
					</a>
					<figcaption>
						<div class="img-back">
							<p>å…¶ä»–çš„ç‰¹ç‚¹è¿˜ä¸æ¸…æ¥šå˜ï¼Œå¸Œæœ›å¯ä»¥å¤šäº†è§£å‘€~</p>
						</div>
					</figcaption>
				</figure> 
			</div>
			<div class="col-xs-4 col-md-4 img-sec">
				<figure class="img-figure" id='9'>
					<a href="#" class="thumbnail">
						<img src="imgs/9.jpg" alt="...">
					</a>
					<figcaption>
						<div class="img-back">
							<p>å¾€åï¼Œè¯·å¤šå¤šå…³ç…§â˜º~</p>
						</div>
					</figcaption>
				</figure> 
			</div>
		</div>
	</div>
	<script type="text/javascript">

	(function(){
		// è·å¾—å…ƒç´ çš„å®½åº¦
		var girWidth=document.getElementById('img-figure').offsetWidth;
		// è·å¾—å…ƒç´ æ•°ç»„
		var figuresArr=document.getElementsByClassName('img-figure');
		// åˆå§‹åŒ–isinverseçŠ¶æ€å’Œäº‹ä»¶å¤„ç†å™¨
		for(var i=0;i<figuresArr.length;i++){
			// console.log(figuresArr[i]);
			// debugger;
			figuresArr[i].setAttribute('isinverse','false');

			if(isMobile()){
				figuresArr[i].addEventListener("click",figHandler,'false');
				console.log('ç§»åŠ¨ç«¯æ³¨å†Œç‚¹å‡»äº‹ä»¶');
			}else{
				// TODO:Bug1 å› ä¸ºæœ‰3Dæ—‹è½¬æ‰€ä»¥ä¼šè§¦å‘å¤šæ¬¡..
				figuresArr[i].addEventListener("mouseover",figHandler,'false');
				figuresArr[i].addEventListener("mouseout",figHandler,'false');
				console.log('PCç«¯æ³¨å†Œç§»ä¸Šå’Œç§»å‡ºäº‹ä»¶');
			}
		}

		function figHandler(e){
		 	// console.log(this);
		 	// debugger;

		 	// æ‰¾åˆ°å…ƒç´ ç´¢å¼•
		 	var index;
		 	for(var i=0;i<figuresArr.length;i++){
		 		if(figuresArr[i]==this){
		 			index=i;
		 		}
			}
			// console.log('ç‚¹å‡»å›¾ç‰‡',index);
			// ç¿»è½¬å…ƒç´ 
			inverse(index);
			
			e.preventDefault();
			e.stopPropagation();
		}

		function inverse(index){
	    	var imgFigureClassName='img-figure';

	    	// isinverse==falseè¡¨ç¤ºæ­£é¢
	    	if(figuresArr[index].getAttribute('isinverse')=='false'){
	    		figuresArr[index].className=imgFigureClassName+" is-inverse";
	    		figuresArr[index].setAttribute('isinverse','true');
	    		//transform: translate(250px) rotateY(180deg);
				// -webkit-transform: translate(250px) rotateY(180deg);
	    		figuresArr[index].style.transform='translate('+girWidth+'px) rotateY(180deg)'
	    		figuresArr[index].style.webkitTransform='translate('+girWidth+'px) rotateY(180deg)'
	    	}else{
	    		figuresArr[index].className=imgFigureClassName;
	    		figuresArr[index].setAttribute('isinverse','false');
	    		figuresArr[index].style.transform='translate(0px) rotateY(0deg)'
	    		figuresArr[index].style.webkitTransform='translate(0px) rotateY(0deg)'
	    	}
	    }

	    function isMobile(){
	    	var ua =  navigator.userAgent;
			var isAndroid = /Android/i.test(ua);
			var isBlackBerry = /BlackBerry/i.test(ua);
			var isWindowPhone = /IEMobile/i.test(ua);
			var isIOS = /iPhone|iPad|iPod/i.test(ua);
			var res = isAndroid || isBlackBerry || isWindowPhone || isIOS;
			console.log('æ˜¯æ‰‹æœºå—ï¼Ÿ',res);
			return res;
	    }
	})()
	</script>
</body>
</html>